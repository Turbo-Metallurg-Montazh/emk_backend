adminUsers:
  get:
    tags: [AdminUsers]
    summary: List users
    description: Список всех пользователей для панели администратора.
    operationId: listUsers
    responses:
      '200':
        description: Users list
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "../../models/auth.yaml#/components/schemas/AdminUserDto"

      '501':
        description: Not implemented
        content:
          application/json:
            schema:
              title: ListUsers501Response
              allOf:
                - $ref: "../../models/auth.yaml#/components/schemas/MessageResponse"

  post:
    tags: [AdminUsers]
    summary: Create user
    description: >
      Создание нового пользователя администратором. Username генерируется автоматически на основе ФИО.
    operationId: createUser
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../../models/auth.yaml#/components/schemas/AdminCreateUserRequest"
    responses:
      '201':
        description: User created
        content:
          application/json:
            schema:
              $ref: "../../models/auth.yaml#/components/schemas/AdminUserDto"

      '400':
        description: Invalid data
        content:
          application/json:
            schema:
              allOf:
                - $ref: "../../models/auth.yaml#/components/schemas/ErrorResponse"

      '409':
        description: Email already taken
        content:
          application/json:
            schema:
              allOf:
                - $ref: "../../models/auth.yaml#/components/schemas/ErrorResponse"

      '501':
        description: Not implemented
        content:
          application/json:
            schema:
              title: CreateUser501Response
              allOf:
                - $ref: "../../models/auth.yaml#/components/schemas/MessageResponse"


adminUserByUsername:
  get:
    tags: [AdminUsers]
    summary: Get user by username
    operationId: getUserByUsername
    parameters:
      - in: path
        name: username
        required: true
        schema:
          type: string
    responses:
      '200':
        description: User details
        content:
          application/json:
            schema:
              $ref: "../../models/auth.yaml#/components/schemas/AdminUserDto"

      '404':
        description: User not found
        content:
          application/json:
            schema:
              allOf:
                - $ref: "../../models/auth.yaml#/components/schemas/ErrorResponse"

      '501':
        description: Not implemented
        content:
          application/json:
            schema:
              title: GetUserByUsername501Response
              allOf:
                - $ref: "../../models/auth.yaml#/components/schemas/MessageResponse"

  delete:
    tags: [AdminUsers]
    summary: Delete user by username
    operationId: deleteUserByUsername
    parameters:
      - in: path
        name: username
        required: true
        schema:
          type: string
    responses:
      '200':
        description: User deleted
        content:
          application/json:
            schema:
              allOf:
                - $ref: "../../models/auth.yaml#/components/schemas/MessageResponse"

      '404':
        description: User not found
        content:
          application/json:
            schema:
              allOf:
                - $ref: "../../models/auth.yaml#/components/schemas/ErrorResponse"

      '501':
        description: Not implemented
        content:
          application/json:
            schema:
              title: DeleteUserByUsername501Response
              allOf:
                - $ref: "../../models/auth.yaml#/components/schemas/MessageResponse"


adminUserResetPassword:
  post:
    tags: [AdminUsers]
    summary: Reset user password
    operationId: resetUserPassword
    parameters:
      - in: path
        name: username
        required: true
        schema:
          type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../../models/auth.yaml#/components/schemas/AdminResetPasswordRequest"
    responses:
      '200':
        description: Password reset
        content:
          application/json:
            schema:
              allOf:
                - $ref: "../../models/auth.yaml#/components/schemas/MessageResponse"

      '404':
        description: User not found
        content:
          application/json:
            schema:
              allOf:
                - $ref: "../../models/auth.yaml#/components/schemas/ErrorResponse"

      '501':
        description: Not implemented
        content:
          application/json:
            schema:
              title: ResetUserPassword501Response
              allOf:
                - $ref: "../../models/auth.yaml#/components/schemas/MessageResponse"


